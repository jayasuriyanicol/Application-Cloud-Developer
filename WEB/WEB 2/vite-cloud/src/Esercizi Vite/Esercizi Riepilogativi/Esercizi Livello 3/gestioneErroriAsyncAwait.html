<!-- 27. Async / Await con Gestione Errori
Richiesto: riscrivere fetch in async/await gestendo errori.
Usare: try/catch.
Risultato: messaggio di errore o contenuto corretto. -->



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Async / Await con Gestione Errori</title>
</head>
<body>

    <b><div id="dati"></div></b>
    <br>
    <div id="contenuto"></div>


    <script>

        let dati = document.getElementById("dati");
        let contenuto = document.getElementById("contenuto");


        const fetchDati = async () => {

               
            try {

                const ris = await fetch("https://jsonplaceholder.typicode.com/posts?id=1");


                if(!ris.ok){

                 throw new Error  ("ATTENZIONE ! Il fetch dei dati non Ã¨ andato a buon fine. CODICE ERRORE: " + ris.status);
                }else{
                const postMess =  await ris.json();
                 
                dati.innerHTML = postMess[0].title;
                contenuto.innerHTML = postMess[0].body; 
                }
    
            }catch(error){

                contenuto.innerHTML = error;
            }
            
        }

            fetchDati();

    </script>
    
</body>
</html>



